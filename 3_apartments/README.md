# Проект по анализу рынка недвижимости в Санкт-Петербурге и ЛО

**Цель исследования** - выявить типичные параметры объектов недвижимости, определяющие их рыночную стоимость.

**Задачи исследования:**
1. выполнить предобработку данных,
2. найти особенности и зависимости, характерные для рынка недвижимости.

**Источник данных** - один датасет с архивом объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах по данным ресурса Яндекс.Недвижимость за период с 2014 по 2019 года.

**Навыки и инструменты** - python, pandas, matplotlib, math, исследовательский анализ данных, визуализация данных, предобработка данных.

# Резюме

В общем случае, типичными и наиболее значимыми параметрами объектов недвижимости при определении их рыночной стоимоcти, являются (в порядке убывания влияния):
1. Площадь объекта.
2. Стоимость за квадратный метр. 
3. Комнатность объекта.
4. Удаленность от центра. 

Для объектов, расположенных в центре Санкт-Петербурга, факторы 3 и 4 меняются местами в степени оказываемого влияния на стоимость квартиры.

Кроме того, исследование позволило выявить сложную, нелинейную зависимость между стоимостью квартиры и такими параметрами как этажность и/или наличие поблизости парков/водоемов.

Влияние же временнОго фактора (дня недели, месяца или года публикации) в рамках исследования признано отсутствующим, так как по имеющимся данным зависимость удалось установить только с месяцем публикации, что скорее связано с некоторой сезонностью в жизни города.

По средним показателям объекты в центре Санкт-Петербурга отличаются от объектов иных локаций:
1. бОльшей площадью квартир - средний показатель 72 кв.м. на 25% больше по сравнению с другими районами города (58 кв.м.) и на 33-36% больше, чем в других локациях (53-54 кв.м.).
2. более высокой стоимостью квартир - средняя стоимость равна 8,9 млн, что на 2,6 млн или на 33% больше, чем в других районами города, и на 4,2 млн или на 52% больше по сравнению с городами и посёлками ЛО.
3. бОльшим количеством комнат - средний показатель равен 2,4 против 2,0 в других районах города и городах ЛО и против 1,7 в посёлках.
3. более высокими потолками - средний показатель равен 2.8м против 2.7м во всех других локациях.

# Краткое содержание работы

**_Первичное изучение датасета_** показало, что в исходных данных из 21 столбца полностью были заполнены только 8, а в 13-ти данные частично отсутствовали. Разброс отсутствующих данных широкий - от 49 до 15 620 строк. Наименьшее количество пропусков было допущено в столбцах `locality_name` и `floors_total` (менее 0,5% выборки). Далее из важных критериев оценки жилья не хватало примерно по 10% информации о жилой площади (`living_area`) и о площади кухни (`kitchen_area`). Наибольшее количество данных (из ключевых параметров) отсутствовало по высоте потолков (`ceiling_height`) - 38% датасета. 

На **_этапе предобработки_** были восстановлены следующие параметры:
1. локации объектов  в `locality_name`&
2. площади в `living_area` и `kitchen_area`&
3. высота потолков в `ceiling_height`

В остальных случаях, когда данные восстановить было не возможно, но параметр участвовал в исследовании, строки с пропущенными значениями были удалены (информация о расстоянии до центра и общем количестве этажей в доме). Общий объем датасета сократился на 23,71% до 18079 строк.

Далее **_выполнялись расчеты параметров объектов недвижимости,_**, частично необходимых для исследования: цену квадратного метра; день недели, месяц и год публикации объявления; категорию этажности; соотношений жилой площади с общей и соотношений площади кухи с общей.

На этапе **_исследовательского анализа данных_** ключевые для исследования параметры были проверены на аномальные значения путем построения гистограмм `hist` и диаграм размаха `boxplot`, метода `describe()`. 

К таковым параметрам относятся (указаны с пограничными значениями):
1. площадь - от 28 кв.м. до 165 кв.м.
2. стоимость квартир - от 2,5 млн. руб. до 25 млн. руб.
3. число комнат - от 1 до 5
4. высота потолков - от 2,5 м. до 3,5 м.
5. время продажи квартир (длительность публикации до момента продажи объекта) - от 4 дней до 600 дней (около 1 года 6 месяцев)

Далее выполнялся **_анализ факторов, влияющих на стоимость квартир в общем случае_.** 

Для поиска взаимосвязи между различными параметрами квартир использовались диаграммы (ячеечные `hexbin`, рассеивания `scatter`, столбчатые `bar`) и рассчитывались коэффициенты корреляции Пирсона `corr()`.

В общем случае, наиболее значимыми для определения стоимоcти квартиры факторами оказались:
1. Площадь объекта - зависимость со стоимостью продажи положительная, выше среднего (0.8)
2. Стоимость за квадратный метр - зависимость со стоимостью продажи положительная, выше среднего (0.61)
3. Количество комнат - зависимость со стоимостью продажи положительная, средняя (0.5)
4. Удаленность объекта от центра - зависимость со стоимостью продажи отрицательная (обратная), ниже среднего (-0.34)

Среди прочего, были рассмотрены такие факторы, как:
1. Этажность квартир (первый, последний, другой). 
2. Наличие в радиусе 3км парков и водоемов.
3. Время публикации объявления: день недели, месяц и год.

Для последней группы факторов расчет коэффициента Пирсона в основном невозможен, поэтому определить степень зависимости несколько затруднительно, однако, анализ совершенно четко определяет её наличие и не линейный, а сложный, даже взаимозависимый (между самими факторами) характер. 

Затем выполнялся **_анализ факторов, влияющих на стоимость квартир в центре Санкт-Петербурга_.**

Для центра Санкт-петербурга наиболее значимыми для определения стоимоcти квартиры факторами оказались:
1. Площадь объекта - зависимость со стоимостью продажи положительная, выше среднего (0.74)
2. Стоимость за квадратный метр - зависимость со стоимостью продажи положительная, средняя (0.57)
3. Удаленность объекта от центра - зависимость со стоимостью продажи отрицательная (обратная), средняя (-0.53)
4. Количество комнат - зависимость со стоимостью продажи положительная, средняя (0.42)
