# Проект по определению выгодного тарифа для телеком компании

**Цель исследования** - определить, какой из двух тарифов, `Smart` или `Ultra`, приносит больше выручки федеральному оператору сотовой связи.

Параметры тарифных планов:
- smart - 500 минут разговора, 50 сообщений и 15 Гб интернет-трафика, абонентская плата 550 руб.
- ultra - 3000 минут, 1000 сообшений и 30 Гб, абонентская плата 1950 руб.

**Задачи исследования:**
1. Сравнить ежемесячное потребление услуг для каждого тарифа.
2. Проверить гипотезы о средней выручке:
    - средняя выручка пользователей тарифов `Ultra` и `Smart` различается.
    - средняя выручка пользователей из Москвы отличается от выручки пользователей из других регионов.

**Источник данных** - 5 датасетов с данными о 500-х пользователях оператора за 2018 год. Датасеты содержат информацию о пользователях, о потребленных ими минутах, сообщениях, трафике и об их интернет-сессиях.

**Навыки и инструменты** - python, pandas, matplotlib, numpy, scipy, описательная статистика, проверка статистических гипотез.

# Резюме

Предположительно тарифные планы предназначены для разных целевых аудиторий клиентов - `Smart` более доступный и массовый продукт, а `Ultra` рассчитан на клиентов с более специфическими или узкоспециализированными требованиями к связи.

Тариф `Ultra` стоит в 3,5 раза дороже, чем тариф `Smart` и, несмотря на то, что темпы прироста клиентов по тарифу `Smart` на 50% и более превышают темпы прироста по тарифу `Ultra`, последний ежемесячно приносит на 26%-63% выручки больше. 

Средний объем выручки в Москве практически не отличается от других регионов: только в 4-х месяцах выручках по Москве была несколько выше, чем в других регионах, но всего на 1-7%.

Таким образом, при сохранении выявленных темпов прироста новых клиентов, тариф `Ultra` более выгоден для оператора связи.

# Краткое содержание работы

Исходные данные практически не требовали обработки: пропущенных значений не было ни в одном файле, форматы соответствовали везде, кроме дат.

На **_этапе предобработки_** даты были приведены к соответствующему формату методом `to_datetime` и выделены отдельно месяцы методом `DatetimeIndex`. Затем при помощи `pivot_table` были подготовлены суммированные показатели потребления услуг по месяцам и объединены методом `merge` в рабочий датасет, после чего был призведен расчет выручки при помощи созданной функции.

На этапе **_анализа данныз_** рассматривалась динамика количества клиентов каждого тарифа и обобщались сведения об использованных пользователями минутах, сообщениях, интернет-трафике для визуализации полученных величин методом `bar` и сравнения показателей.

Здесь удалось узнать, что:
1. Предположительно оба тарифа были запущены в начале 2018 года и на февраль - апрель пришелся пик привлечения клиентов, а затем начался постепенный спад, достигнувший своего максимума в ноябре-декабре.
2. Предположительно тарифные планы предназначены для разных целевых аудиторий клиентов - smart более доступный и массовый продукт, а ultra рассчитан на клиентов с более специфическими или узкоспециализированными требованиями к связи.
3. Темпы прироста клиентов по тарифу smart превышают темпы прироста по тарифу ultra в 2 и более раз.
4. По всем видам услуг (минуты, сообщения, трафик) ежемесячное потребление по тарифу smart превышает потребление по тарифу ultra на 28%-63% (зависит от услуги и месяца).

Далее проводилась **_статистическая проверка гипотез._**

Здесь требовалось проверить выборку на нормальность распределения, сформулировать альтернативные гипотезы и выполнить статистическое сравнение двух пар гипотез.

Проверяемые пары гипотез:
1. Первая пара:
    - Нулевая гипотеза: средняя выручка пользователей тарифов «Ультра» и «Смарт» одинаковая (равна).
    - Альтернативная гипотеза: средняя выручка пользователей тарифов «Ультра» и «Смарт» различается.
2. Вторая пара:
    - Нулевая гипотеза: средняя выручка пользователей из Москвы **не** отличается от выручки пользователей из других регионов (выручка по Москве и регионам равна).
    - Альтернативная гипотеза: средняя выручка пользователей из Москвы отличается от выручки пользователей из других регионов.

Для проверки нормальности распределения выборки помимо построения графиков `density` были рассчитаны среднее `mean()`, дисперсия `var()` и стандартное отклонение `std()` для каждого вида услуг по каждому тарифу.  Распределение величин по гистограммам плотности признано нормальным.
    
**_Статистическая проверка первой пары гипотез_** показала, что вероятность верности нулевой гипотезы - 0%, то есть средняя выручка пользователей тарифов smart и ultra точно не одинаковая.
    
При дополнительной проверке альтернативной гипотезы первой пары данными столбчатой диаграммы и гистограммой плотности распределения выручки стало очевидно, что выручка по тарифу ultra больше, чем выручка по тарифу smart на 26%-63% в месяц.

**_Статистическая проверка второй пары гипотез_** показала, что с вероятностью в 52% нулевая гипотеза верна и выручка пользователей из Москвы не отличается от выручки пользователей регионов.

При дополнительной прверке альтернативной гипотезы второй пары данными столбчатой диаграммы и гистограммой плотности распределения выручки стало очевидно, что только в 4-х месяцах выручках по Москве была несколько выше, чем в других регионах, но всего на 1-7%.
