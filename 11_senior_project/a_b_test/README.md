# Проект по оценке корректности А/В-тестирования

**Цель исследования** - провести оценку корректности A/B-теста, запущенного после внедрения улучшенной рекомендательной системы. Цель эксперимента (A/B-тестирования) - отследить влияние внесенных изменений на все этапы воронки продаж.

**Задачи исследования:**
1. Оценить корректность проведения теста, а именно:
    - проверить пересечение тестовой аудитории с конкурирующим тестом,
    - проверить совпадение теста и маркетинговых событий, другие проблемы временных границ теста.
2. Проанализировать результаты теста

**Источник данных** - датасет с действиями пользователей в интернет-магазине, техническое задание и несколько вспомогательных датасетов

**Навыки и инструменты** - python, pandas, numpy, math, datetime, scipy.stats, matplotlib, seaborn, plotly.express, А/В-тестирование, проверка статистических гипотез, метод Бонферрони.

Для визуализации объектов библиотеки plotly.express работа расположена на ресурсе [nbviewer](https://nbviewer.org/github/raccoon007/yandex_practicum/blob/main/a_b_test/a_b_test_ecom_conversion_v_2.ipynb).

## Резюме

Обобщая все полученные данные о проведенном А/В-тестировании считаю его проведение в заданных условиях полностью некорректным, а результаты сомнительными, потому что:
1. С высокой долей вероятности исходные данные о событиях были выгружены некорректно и часть данных была утеряна, из-за чего в тестировании использовался органиченный набор сведений.
2. Тестирование проводилось в период маркетинговых мероприятий, из-за чего часть данных требовалось отсечь.
3. В группах тестирования были пересекающиеся пользователи.
4. Отсутствовала возможность достоверно проверить соразмерность групп, однако, сравнение численности групп в абсолютных величинах косвенно указывает на вероятность допущенной ошибки при их формировании, так как численность группы А (2280 чел.) в 3 раза превышает численность группы В (712 чел.).


## Краткое содержание работы

Предобработка позволила выявить, что исходные данные содержали сведения, мешающие проведению А/В-тестирования:
- события, не являющихся предметом исследования (сведения о ином тестировании);
- пользователей, пересекающиеся между тестируемыми группами;
- неактивных пользователей (не совершивших за период тестирования ни одного действия).  


Представленные данные не в полной мере соответствуют условиям ТЗ для проведения А/В-тестирования:

- ![#c5f015](https://placehold.co/15x15/c5f015/c5f015.png) название теста: `recommender_system_test`; условие выполнено, данные об этом тесте предоставлены; 
- ![#c5f015](https://placehold.co/15x15/c5f015/c5f015.png) группы: А — контрольная, B — новая платёжная воронка; условие выполнено, в датасете присутствуют только эти группы;
- ![#c5f015](https://placehold.co/15x15/c5f015/c5f015.png) дата запуска: 2020-12-07; условие выполнено, самая ранняя дата событий в выбрке совпадает с датой начала тестирования;
- ![#c5f015](https://placehold.co/15x15/c5f015/c5f015.png) дата остановки набора новых пользователей: 2020-12-21; условие выполнено, самая поздняя дата событий в выбрке совпадает с датой начала тестирования;
- ![#f03c15](https://placehold.co/15x15/f03c15/f03c15.png) дата остановки: 2021-01-04; условие не выполнено, самая поздняя дата событий в выбрке - 30.12.2020;
- ![#f03c15](https://placehold.co/15x15/f03c15/f03c15.png) аудитория: 15% новых пользователей из региона EU; условие не выполнено, аудитория региона EU составляет 7,8% от всего объема новых пользователей из этого региона;
- ![#f03c15](https://placehold.co/15x15/f03c15/f03c15.png) ожидаемое количество участников теста: 6000. условие не выполнено, количество уникальных пользователей, участвующих в тестировании 2992 чел;
- ![#f03c15](https://placehold.co/15x15/f03c15/f03c15.png) ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%: условие не выполнено, результаты конверсии групп А и В ниже:

    ````
    в просмотр карточек: А - 65%, В - 57%, снижение на 8%,
    в просмотр корзины: А - 30%, В - 28%, снижение на 2%,
    в покупку: А - 32%, В - 29%, снижение на 3%.
    ````

Для проверки статистически значимых разниц между группами были сформулированны гипотезы:

- Нулевая гипотеза: доли уникальных посетителей, побывавших на каждом этапе воронки, одинаковы.
- Альтернативная гипотеза: доли уникальных посетителей, побывавших на каждом этапе воронки, различаются.

Для исключения накапливающихся ошибок первого рода при оценке результатов тестирования применялся метод Бонферрони. Независимо от величины критического уровня статистической значимости (1% или 5%), была выявлена статистически значимая разница между группами на этапе просмотра карточек товаров, а в отношении остальных событий воронки нулевая гипотеза о равенстве долей уникальных пользователей, совершивших событий, не может быть отвергнута.


